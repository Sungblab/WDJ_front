<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>완대전</title>
    <link
      href="//spoqa.github.io/spoqa-han-sans/css/SpoqaHanSansNeo.css"
      rel="stylesheet"
      type="text/css"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ["Spoqa Han Sans Neo", "sans-serif"],
            },
            colors: {
              primary: {
                50: "#E6F0FF",
                100: "#CCE0FF",
                200: "#99C2FF",
                300: "#66A3FF",
                400: "#3385FF",
                500: "#0066FF",
                600: "#0052CC",
                700: "#003D99",
                800: "#002966",
                900: "#001433",
              },
            },
          },
        },
      };
    </script>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
      rel="stylesheet"
    />
    <style>
      #mobile-menu {
        transition: max-height 0.3s ease-out, opacity 0.3s ease-out;
        max-height: 0;
        opacity: 0;
        overflow: hidden;
      }
      #mobile-menu.active {
        max-height: 400px;
        opacity: 1;
      }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>
  </head>
  <body class="bg-gray-100 font-sans">
    <header class="bg-blue-600 shadow-md">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div
          class="flex justify-between items-center py-4 md:justify-start md:space-x-10"
        >
          <div class="flex justify-start lg:w-0 lg:flex-1">
            <a
              href="/front-end/index.html"
              class="text-3xl font-bold text-white hover:text-gray-200 transition duration-300"
            >
              완·대·전
            </a>
          </div>
          <div class="-mr-2 -my-2 md:hidden">
            <button
              id="mobile-menu-button"
              type="button"
              class="bg-blue-500 rounded-md p-2 inline-flex items-center justify-center text-white hover:text-gray-200 hover:bg-blue-400 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white"
              aria-expanded="false"
            >
              <span class="sr-only">메뉴 열기</span>
              <svg
                class="h-6 w-6"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4 6h16M4 12h16M4 18h16"
                />
              </svg>
            </button>
          </div>
          <nav class="hidden md:flex space-x-10">
            <a
              href="notice.html"
              class="text-base font-medium text-white hover:text-gray-200 transition duration-300"
              >공지사항</a
            >
            <a
              href="community.html"
              class="text-base font-medium text-white hover:text-gray-200 transition duration-300"
              >커뮤니티</a
            >
            <a
              href="petition.html"
              class="text-base font-medium text-white hover:text-gray-200 transition duration-300"
              >청원·제안</a
            >
            <a
              href="utility.html"
              class="text-base font-medium text-white hover:text-gray-200 transition duration-300"
              >학급 도우미</a
            >
            <a
              href="about.html"
              class="text-base font-medium text-white hover:text-gray-200 transition duration-300"
              >소개</a
            >
          </nav>
        </div>
      </div>

      <div
        id="mobile-menu"
        class="absolute top-0 inset-x-0 p-2 transition transform origin-top-right md:hidden"
      >
        <div
          class="rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 bg-blue-500 divide-y-2 divide-blue-400"
        >
          <div class="pt-5 pb-6 px-5">
            <div class="flex items-center justify-between">
              <div>
                <a href="index.html" class="text-2xl font-bold text-white"
                  >완·대·전</a
                >
              </div>
              <div class="-mr-2">
                <button
                  id="mobile-menu-close"
                  type="button"
                  class="bg-blue-500 rounded-md p-2 inline-flex items-center justify-center text-white hover:text-gray-200 hover:bg-blue-400 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white"
                >
                  <span class="sr-only">메뉴 닫기</span>
                  <svg
                    class="h-6 w-6"
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                    aria-hidden="true"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M6 18L18 6M6 6l12 12"
                    />
                  </svg>
                </button>
              </div>
            </div>
            <div class="mt-6">
              <nav class="grid gap-y-8">
                <a
                  href="notice.html"
                  class="-m-3 p-3 flex items-center rounded-md hover:bg-blue-400 transition duration-300"
                >
                  <span class="ml-3 text-base font-medium text-white"
                    >공지사항</span
                  >
                </a>
                <a
                  href="community.html"
                  class="-m-3 p-3 flex items-center rounded-md hover:bg-blue-400 transition duration-300"
                >
                  <span class="ml-3 text-base font-medium text-white"
                    >커뮤니티</span
                  >
                </a>
                <a
                  href="petition.html"
                  class="-m-3 p-3 flex items-center rounded-md hover:bg-blue-400 transition duration-300"
                >
                  <span class="ml-3 text-base font-medium text-white"
                    >청원·제안</span
                  >
                </a>
                <a
                  href="utility.html"
                  class="-m-3 p-3 flex items-center rounded-md hover:bg-blue-400 transition duration-300"
                >
                  <span class="ml-3 text-base font-medium text-white"
                    >학급 도우미</span
                  >
                </a>
                <a
                  href="about.html"
                  class="-m-3 p-3 flex items-center rounded-md hover:bg-blue-400 transition duration-300"
                >
                  <span class="ml-3 text-base font-medium text-white"
                    >소개</span
                  >
                </a>
              </nav>
            </div>
          </div>
        </div>
      </div>
    </header>

    <main class="container mx-auto mt-8 px-8">
      <h2 class="text-3xl font-bold mb-6 text-blue-700">학급 도우미</h2>
      <div class="container mx-auto mt-8 px-4">
        <h2 class="text-3xl font-bold mb-6 text-blue-700">대포뽑기</h2>
        <div class="bg-white rounded-lg shadow-md p-6">
          <div class="mb-4">
            <label
              for="maxNumber"
              class="block text-sm font-medium text-gray-700"
              >최대 번호</label
            >
            <input
              type="number"
              id="maxNumber"
              class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"
              value="20"
              min="1"
              max="99"
            />
          </div>
          <div class="mb-4">
            <label
              for="allowDuplicates"
              class="block text-sm font-medium text-gray-700"
            >
              <input
                type="checkbox"
                id="allowDuplicates"
                class="rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-offset-0 focus:ring-blue-200 focus:ring-opacity-50"
              />
              중복 허용
            </label>
          </div>
          <button
            id="pickButton"
            class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600"
          >
            번호 뽑기
          </button>
          <button
            id="resetButton"
            class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600"
          >
            초기화
          </button>
          <div class="mt-8">
            <canvas
              id="animationCanvas"
              width="800"
              height="400"
              class="mx-auto border rounded-lg"
            ></canvas>
          </div>
          <p id="pickedNumbers" class="mt-4 text-lg">뽑은 번호:</p>
        </div>
      </div>
      <div class="container mx-auto px-4 py-8">
        <h1 class="text-3xl font-bold mb-8 text-center text-blue-600">
          타이머/스톱워치
        </h1>
        <div class="flex flex-wrap justify-center gap-8">
          <!-- 타이머 섹션 -->
          <div
            class="bg-white rounded-lg shadow-md p-6 w-full md:w-1/2 lg:w-1/3"
          >
            <h2 class="text-2xl font-bold mb-4 text-center text-blue-500">
              타이머
            </h2>
            <canvas
              id="timerCanvas"
              width="300"
              height="300"
              class="mx-auto"
            ></canvas>
            <div class="mt-4 flex justify-center space-x-2">
              <input
                type="number"
                id="timerInput"
                class="border rounded px-2 py-1 w-16 text-center"
                value="5"
                min="1"
                max="60"
              />
              <span class="py-2">분</span>
              <button
                id="startTimer"
                class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600"
              >
                시작
              </button>
              <button
                id="pauseTimer"
                class="bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600"
                disabled
              >
                일시정지
              </button>
              <button
                id="resetTimer"
                class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"
              >
                리셋
              </button>
            </div>
          </div>
          <!-- 스톱워치 섹션 -->
          <div
            class="bg-white rounded-lg shadow-md p-6 w-full md:w-1/2 lg:w-1/3"
          >
            <h2 class="text-2xl font-bold mb-4 text-center text-blue-500">
              스톱워치
            </h2>
            <canvas
              id="stopwatchCanvas"
              width="300"
              height="300"
              class="mx-auto"
            ></canvas>
            <div class="mt-4 flex justify-center space-x-2">
              <button
                id="startStopwatch"
                class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600"
              >
                시작
              </button>
              <button
                id="pauseStopwatch"
                class="bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600"
                disabled
              >
                일시정지
              </button>
              <button
                id="lapStopwatch"
                class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"
                disabled
              >
                랩
              </button>
              <button
                id="resetStopwatch"
                class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"
              >
                리셋
              </button>
            </div>
            <div id="lapTimes" class="mt-4 max-h-40 overflow-y-auto"></div>
          </div>
        </div>
      </div>
      <div class="container mx-auto px-4 py-8">
        <h2 class="text-3xl font-bold mb-6 text-blue-700">무작위 팀 생성기</h2>
        <div class="bg-white rounded-lg shadow-md p-6">
          <div class="mb-4">
            <label
              for="totalStudents"
              class="block text-sm font-medium text-gray-700"
              >전체 학생 수</label
            >
            <input
              type="number"
              id="totalStudents"
              class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"
              value="20"
              min="1"
              max="100"
            />
          </div>
          <div class="mb-4">
            <label
              for="teamCount"
              class="block text-sm font-medium text-gray-700"
              >팀 수</label
            >
            <input
              type="number"
              id="teamCount"
              class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"
              value="4"
              min="1"
              max="10"
            />
          </div>
          <button
            id="generateTeams"
            class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600"
          >
            팀 생성
          </button>
          <div class="mt-8">
            <canvas
              id="teamsCanvas"
              width="800"
              height="400"
              class="mx-auto border rounded-lg"
            ></canvas>
          </div>
        </div>
      </div>
    </main>

    <footer class="bg-gray-800 text-white py-12">
      <div class="container mx-auto px-6 lg:px-8">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <div>
            <h4 class="text-2xl font-bold mb-4">완대전</h4>
            <p class="text-gray-300 mb-4">
              완도고등학교 학생들을 위한 유용한 웹사이트
            </p>
            <div class="flex space-x-4">
              <a
                href="https://www.instagram.com/wdj_hs/ "
                target="_blank"
                class="text-gray-300 hover:text-white transition duration-300"
              >
                <i class="fab fa-instagram"></i>
              </a>
              <p class="text-gray-300">IG: wdj_hs</p>
            </div>
          </div>
          <div>
            <h4 class="text-xl font-semibold mb-4">빠른 링크</h4>
            <ul class="space-y-2">
              <li>
                <a
                  href="notice.html"
                  class="text-gray-300 hover:text-white transition duration-300"
                >
                  공지사항
                </a>
              </li>
              <li>
                <a
                  href="community.html"
                  class="text-gray-300 hover:text-white transition duration-300"
                >
                  커뮤니티
                </a>
              </li>
              <li>
                <a
                  href="petition.html"
                  class="text-gray-300 hover:text-white transition duration-300"
                >
                  청원·제안
                </a>
              </li>
              <li>
                <a
                  href="utility.html"
                  class="text-gray-300 hover:text-white transition duration-300"
                >
                  학급 도우미
                </a>
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-xl font-semibold mb-4">연락처</h4>
            <p class="text-gray-300 mb-2">이메일: ksb19558@naver.com</p>
            <p class="text-gray-300 mb-4">연락 인스타그램 : wdj_hs</p>
            <a
              href="privacy-policy.html"
              class="text-blue-400 hover:text-blue-300 transition duration-300"
            >
              개인정보 처리방침
            </a>
          </div>
        </div>
        <div
          class="border-t border-gray-700 mt-8 pt-8 text-sm text-center text-gray-400"
        >
          <p>&copy; 2024 완대전. All rights reserved.</p>
        </div>
      </div>
    </footer>

    <script>
      const mobileMenuButton = document.getElementById("mobile-menu-button");
      const mobileMenuClose = document.getElementById("mobile-menu-close");
      const mobileMenu = document.getElementById("mobile-menu");

      mobileMenuButton.addEventListener("click", () => {
        mobileMenu.classList.toggle("active");
      });

      mobileMenuClose.addEventListener("click", () => {
        mobileMenu.classList.remove("active");
      });

      const canvas = document.getElementById("animationCanvas");
      const ctx = canvas.getContext("2d");
      const maxNumberInput = document.getElementById("maxNumber");
      const allowDuplicatesCheckbox =
        document.getElementById("allowDuplicates");
      const pickButton = document.getElementById("pickButton");
      const pickedNumbersDisplay = document.getElementById("pickedNumbers");

      let pickedNumbers = [];
      let isAnimating = false;

      function drawScene() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        // Draw hills
        ctx.fillStyle = "#4CAF50";
        ctx.beginPath();
        ctx.moveTo(0, 400);
        ctx.quadraticCurveTo(200, 350, 400, 400);
        ctx.quadraticCurveTo(600, 450, 800, 400);
        ctx.fill();

        // Draw cannon
        ctx.fillStyle = "#FF9800";
        ctx.beginPath();
        ctx.moveTo(50, 400);
        ctx.lineTo(150, 300);
        ctx.lineTo(250, 400);
        ctx.fill();
      }

      function drawNumber(number, x, y) {
        // Draw number ball
        ctx.fillStyle = "#4CAF50";
        ctx.beginPath();
        ctx.arc(x, y, 50, 0, Math.PI * 2);
        ctx.fill();

        // Draw number
        ctx.fillStyle = "#FFEB3B";
        ctx.font = "bold 40px Arial";
        ctx.textAlign = "center";
        ctx.textBaseline = "middle";
        ctx.fillText(number, x, y);
      }

      function easeOutBounce(t) {
        const n1 = 7.5625;
        const d1 = 2.75;

        if (t < 1 / d1) {
          return n1 * t * t;
        } else if (t < 2 / d1) {
          return n1 * (t -= 1.5 / d1) * t + 0.75;
        } else if (t < 2.5 / d1) {
          return n1 * (t -= 2.25 / d1) * t + 0.9375;
        } else {
          return n1 * (t -= 2.625 / d1) * t + 0.984375;
        }
      }

      function animateNumber(number) {
        let startTime;
        const duration = 400; // 2 seconds
        const startX = 150;
        const startY = 300;
        const endX = 400;
        const endY = 200;

        function animate(currentTime) {
          if (!startTime) startTime = currentTime;
          let progress = (currentTime - startTime) / duration;

          if (progress < 1) {
            drawScene();
            let x = startX + (endX - startX) * progress;
            let y =
              startY -
              200 * Math.sin(progress * Math.PI) +
              (endY - startY) * easeOutBounce(progress);
            drawNumber(number, x, y);
            requestAnimationFrame(animate);
          } else {
            drawScene();
            drawNumber(number, endX, endY);
            isAnimating = false;
            pickButton.disabled = false;
          }
        }

        requestAnimationFrame(animate);
      }

      function pickNumber() {
        if (isAnimating) return;

        const maxNumber = parseInt(maxNumberInput.value);
        const allowDuplicates = allowDuplicatesCheckbox.checked;

        if (!allowDuplicates && pickedNumbers.length >= maxNumber) {
          alert("모든 번호를 뽑았습니다!");
          return;
        }

        let number;
        do {
          number = Math.floor(Math.random() * maxNumber) + 1;
        } while (!allowDuplicates && pickedNumbers.includes(number));

        pickedNumbers.push(number);
        pickedNumbersDisplay.textContent =
          "뽑은 번호: " + pickedNumbers.join(", ");

        isAnimating = true;
        pickButton.disabled = true;
        animateNumber(number);
      }

      const resetButton = document.getElementById("resetButton");

      function resetGame() {
        pickedNumbers = [];
        pickedNumbersDisplay.textContent = "뽑은 번호: ";
        drawScene();
        drawNumber(1, 400, 200);
      }

      resetButton.addEventListener("click", resetGame);

      pickButton.addEventListener("click", pickNumber);

      // 초기 화면 그리기
      drawScene();
      drawNumber(1, 400, 200);

      document.addEventListener("DOMContentLoaded", function () {
        const timerCanvas = document.getElementById("timerCanvas");
        const stopwatchCanvas = document.getElementById("stopwatchCanvas");
        const timerCtx = timerCanvas.getContext("2d");
        const stopwatchCtx = stopwatchCanvas.getContext("2d");

        const timerInput = document.getElementById("timerInput");
        const startTimerBtn = document.getElementById("startTimer");
        const pauseTimerBtn = document.getElementById("pauseTimer");
        const resetTimerBtn = document.getElementById("resetTimer");

        const startStopwatchBtn = document.getElementById("startStopwatch");
        const pauseStopwatchBtn = document.getElementById("pauseStopwatch");
        const lapStopwatchBtn = document.getElementById("lapStopwatch");
        const resetStopwatchBtn = document.getElementById("resetStopwatch");
        const lapTimesContainer = document.getElementById("lapTimes");

        let timerInterval;
        let stopwatchInterval;
        let timerTime = 0;
        let stopwatchTime = 0;
        let isTimerRunning = false;
        let isStopwatchRunning = false;
        let lapCount = 0;

        function drawCircle(ctx, radius, color) {
          ctx.beginPath();
          ctx.arc(150, 150, radius, 0, 2 * Math.PI);
          ctx.fillStyle = color;
          ctx.fill();
        }

        function drawArc(ctx, radius, startAngle, endAngle, color) {
          ctx.beginPath();
          ctx.arc(150, 150, radius, startAngle, endAngle);
          ctx.strokeStyle = color;
          ctx.lineWidth = 10;
          ctx.stroke();
        }

        function drawText(ctx, text, y) {
          ctx.font = "bold 36px Arial";
          ctx.fillStyle = "#333";
          ctx.textAlign = "center";
          ctx.textBaseline = "middle";
          ctx.fillText(text, 150, y);
        }

        function updateTimerDisplay() {
          const totalSeconds = parseInt(timerInput.value) * 60;
          const progress = (totalSeconds - timerTime) / totalSeconds;
          const minutes = Math.floor(timerTime / 60);
          const seconds = timerTime % 60;

          timerCtx.clearRect(0, 0, 300, 300);
          drawCircle(timerCtx, 140, "#f0f0f0");
          drawArc(
            timerCtx,
            135,
            -Math.PI / 2,
            -Math.PI / 2 + progress * 2 * Math.PI,
            "#3b82f6"
          );
          drawText(
            timerCtx,
            `${minutes.toString().padStart(2, "0")}:${seconds
              .toString()
              .padStart(2, "0")}`,
            150
          );

          // 분 단위 표시 추가
          timerCtx.font = "bold 24px Arial";
          timerCtx.fillText("", 150, 190);
        }

        function updateStopwatchDisplay() {
          const minutes = Math.floor(stopwatchTime / 6000);
          const seconds = Math.floor((stopwatchTime % 6000) / 100);
          const milliseconds = stopwatchTime % 100;

          stopwatchCtx.clearRect(0, 0, 300, 300);
          drawCircle(stopwatchCtx, 140, "#f0f0f0");
          drawArc(
            stopwatchCtx,
            135,
            -Math.PI / 2,
            -Math.PI / 2 + ((stopwatchTime % 6000) / 6000) * 2 * Math.PI,
            "#3b82f6"
          );
          drawText(
            stopwatchCtx,
            `${minutes.toString().padStart(2, "0")}:${seconds
              .toString()
              .padStart(2, "0")}.${milliseconds.toString().padStart(2, "0")}`,
            150
          );
        }

        function startTimer() {
          if (!isTimerRunning) {
            isTimerRunning = true;
            timerTime = parseInt(timerInput.value) * 60;
            updateTimerDisplay();
            timerInterval = setInterval(() => {
              if (timerTime > 0) {
                timerTime--;
                updateTimerDisplay();
              } else {
                clearInterval(timerInterval);
                isTimerRunning = false;
                alert("타이머가 종료되었습니다!");
                resetTimer();
              }
            }, 1000);
            startTimerBtn.disabled = true;
            pauseTimerBtn.disabled = false;
          }
        }

        function pauseTimer() {
          clearInterval(timerInterval);
          isTimerRunning = false;
          startTimerBtn.disabled = false;
          pauseTimerBtn.disabled = true;
        }

        function resetTimer() {
          clearInterval(timerInterval);
          isTimerRunning = false;
          timerTime = parseInt(timerInput.value) * 60;
          updateTimerDisplay();
          startTimerBtn.disabled = false;
          pauseTimerBtn.disabled = true;
        }

        function startStopwatch() {
          if (!isStopwatchRunning) {
            isStopwatchRunning = true;
            stopwatchInterval = setInterval(() => {
              stopwatchTime++;
              updateStopwatchDisplay();
            }, 10);
            startStopwatchBtn.disabled = true;
            pauseStopwatchBtn.disabled = false;
            lapStopwatchBtn.disabled = false;
          }
        }

        function pauseStopwatch() {
          clearInterval(stopwatchInterval);
          isStopwatchRunning = false;
          startStopwatchBtn.disabled = false;
          pauseStopwatchBtn.disabled = true;
        }

        function resetStopwatch() {
          clearInterval(stopwatchInterval);
          isStopwatchRunning = false;
          stopwatchTime = 0;
          updateStopwatchDisplay();
          startStopwatchBtn.disabled = false;
          pauseStopwatchBtn.disabled = true;
          lapStopwatchBtn.disabled = true;
          lapCount = 0;
          lapTimesContainer.innerHTML = "";
        }

        function lapStopwatch() {
          if (isStopwatchRunning) {
            lapCount++;
            const minutes = Math.floor(stopwatchTime / 6000);
            const seconds = Math.floor((stopwatchTime % 6000) / 100);
            const milliseconds = stopwatchTime % 100;
            const lapTime = `${minutes.toString().padStart(2, "0")}:${seconds
              .toString()
              .padStart(2, "0")}.${milliseconds.toString().padStart(2, "0")}`;
            const lapElement = document.createElement("div");
            lapElement.textContent = `랩 ${lapCount}: ${lapTime}`;
            lapTimesContainer.insertBefore(
              lapElement,
              lapTimesContainer.firstChild
            );
          }
        }

        startTimerBtn.addEventListener("click", startTimer);
        pauseTimerBtn.addEventListener("click", pauseTimer);
        resetTimerBtn.addEventListener("click", resetTimer);

        startStopwatchBtn.addEventListener("click", startStopwatch);
        pauseStopwatchBtn.addEventListener("click", pauseStopwatch);
        resetStopwatchBtn.addEventListener("click", resetStopwatch);
        lapStopwatchBtn.addEventListener("click", lapStopwatch);

        updateTimerDisplay();
        updateStopwatchDisplay();
      });

      document.addEventListener("DOMContentLoaded", function () {
        const totalStudentsInput = document.getElementById("totalStudents");
        const teamCountInput = document.getElementById("teamCount");
        const generateTeamsBtn = document.getElementById("generateTeams");
        const teamsCanvas = document.getElementById("teamsCanvas");
        const ctx = teamsCanvas.getContext("2d");

        generateTeamsBtn.addEventListener("click", generateAndDrawTeams);

        function generateAndDrawTeams() {
          const totalStudents = parseInt(totalStudentsInput.value);
          const teamCount = parseInt(teamCountInput.value);

          if (teamCount > totalStudents) {
            alert("팀 수가 전체 학생 수보다 많을 수 없습니다.");
            return;
          }

          const teams = createRandomTeams(totalStudents, teamCount);
          drawTeams(teams);
        }

        function createRandomTeams(totalStudents, teamCount) {
          let students = Array.from({ length: totalStudents }, (_, i) => i + 1);
          students = students.sort(() => Math.random() - 0.5);

          const teams = Array.from({ length: teamCount }, () => []);
          const baseTeamSize = Math.floor(totalStudents / teamCount);
          const extraStudents = totalStudents % teamCount;

          let studentIndex = 0;
          for (let i = 0; i < teamCount; i++) {
            const teamSize =
              i < extraStudents ? baseTeamSize + 1 : baseTeamSize;
            teams[i] = students.slice(studentIndex, studentIndex + teamSize);
            studentIndex += teamSize;
          }

          return teams;
        }

        function drawTeams(teams) {
          ctx.clearRect(0, 0, teamsCanvas.width, teamsCanvas.height);

          const teamWidth = teamsCanvas.width / teams.length;
          const maxTeamSize = Math.max(...teams.map((team) => team.length));

          // 배경 그라데이션
          const gradient = ctx.createLinearGradient(
            0,
            0,
            teamsCanvas.width,
            teamsCanvas.height
          );
          gradient.addColorStop(0, "#f3e7e9");
          gradient.addColorStop(1, "#e3eeff");
          ctx.fillStyle = gradient;
          ctx.fillRect(0, 0, teamsCanvas.width, teamsCanvas.height);

          teams.forEach((team, teamIndex) => {
            const teamX = teamIndex * teamWidth;

            // 팀 배경
            ctx.fillStyle = `hsla(${
              (teamIndex * 360) / teams.length
            }, 70%, 60%, 0.2)`;
            ctx.beginPath();
            ctx.roundRect(
              teamX + 10,
              10,
              teamWidth - 20,
              teamsCanvas.height - 20,
              15
            );
            ctx.fill();

            // 팀 제목
            ctx.fillStyle = `hsl(${
              (teamIndex * 360) / teams.length
            }, 70%, 40%)`;
            ctx.font = "bold 24px Arial";
            ctx.textAlign = "center";
            ctx.fillText(`Team ${teamIndex + 1}`, teamX + teamWidth / 2, 50);

            // 학생 아이콘 그리기
            team.forEach((student, studentIndex) => {
              const cols = Math.ceil(Math.sqrt(team.length));
              const rows = Math.ceil(team.length / cols);
              const cellWidth = (teamWidth - 40) / cols;
              const cellHeight = (teamsCanvas.height - 100) / rows;

              const col = studentIndex % cols;
              const row = Math.floor(studentIndex / cols);

              const studentX = teamX + 20 + col * cellWidth + cellWidth / 2;
              const studentY = 80 + row * cellHeight + cellHeight / 2;

              // 학생 아이콘 배경
              ctx.fillStyle = `hsla(${
                (teamIndex * 360) / teams.length
              }, 70%, 60%, 0.8)`;
              ctx.beginPath();
              ctx.arc(
                studentX,
                studentY,
                Math.min(cellWidth, cellHeight) / 2 - 5,
                0,
                2 * Math.PI
              );
              ctx.fill();

              // 학생 번호
              ctx.fillStyle = "white";
              ctx.font = "bold 16px Arial";
              ctx.textAlign = "center";
              ctx.textBaseline = "middle";
              ctx.fillText(student.toString(), studentX, studentY);
            });
          });

          // 장식용 원 추가
          for (let i = 0; i < 20; i++) {
            const x = Math.random() * teamsCanvas.width;
            const y = Math.random() * teamsCanvas.height;
            const radius = Math.random() * 10 + 5;
            ctx.fillStyle = `hsla(${Math.random() * 360}, 70%, 60%, 0.1)`;
            ctx.beginPath();
            ctx.arc(x, y, radius, 0, 2 * Math.PI);
            ctx.fill();
          }
        }
      });
    </script>
  </body>
</html>
